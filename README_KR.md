# MateCode

LLM 챗봇 응답에서 코드 블록을 직접 작업 공간 파일에 적용하는 VS Code 확장 프로그램입니다.

## 기능

- **구성 가능한 기능 (신규!)**: 다양한 생산성 기능을 켜거나 끌 수 있습니다:
  - **차이점 미리보기**: 변경 사항을 적용하기 전에 나란히 비교할 수 있습니다
  - **원클릭 실행 취소**: 단일 명령으로 적용된 변경 사항을 쉽게 되돌릴 수 있습니다
  - **자동 서식/린팅**: 변경 사항 적용 후 자동으로 코드 서식을 지정합니다
  - **사이드바 이력 보기**: 이전 코드 적용 내역을 추적하고 복원할 수 있습니다
- **스마트 부분 업데이트**: LLM이 특정 함수에 대한 변경을 제안할 때 전체 파일을 교체하지 않고 해당 변경 사항만 적용합니다
- **복사된 코드 블록 적용**: 클립보드나 선택한 텍스트에서 코드 블록을 추출하여 작업 공간 파일에 적용합니다
- **열린 파일에 적용**: 에디터에서 열려있는 파일에 코드 블록을 직접 적용합니다
- **언어 지원**: Python, HTML, JavaScript, Bash/Shell을 포함한 여러 언어를 적절히 처리합니다
- **구성 옵션**: 키보드 단축키를 사용자 정의하고 새 파일의 기본 저장 위치를 설정할 수 있습니다

## 사용법

### 복사된 코드 블록 적용 (Ctrl+Shift+A)

1. LLM 챗봇 응답에서 텍스트를 복사하거나 에디터에서 선택합니다
2. `Ctrl+Shift+A` (또는 Mac에서 `Cmd+Shift+A`)를 누릅니다
3. 확장 프로그램이 텍스트를 분석하고, 파일 경로가 있는 코드 블록을 식별하여 작업 공간에 파일을 생성/업데이트합니다

### 열린 파일에 적용 (Ctrl+Shift+D)

1. LLM 챗봇 응답에서 텍스트를 복사하거나 에디터에서 선택합니다
2. `Ctrl+Shift+D` (또는 Mac에서 `Cmd+Shift+D`)를 누릅니다
3. 확장 프로그램이 다음을 수행합니다:
   - 코드 블록의 파일명과 일치하는 열린 편집기 탭을 찾습니다
   - 일치하는 열린 파일에 자동으로 코드를 적용합니다
   - 일치하지 않는 파일의 경우, 새 파일 생성을 요청합니다

### 스마트 부분 코드 업데이트

열린 파일에 적용 기능을 사용할 때, 확장 프로그램은 이제 부분 코드 업데이트를 지능적으로 처리합니다:

1. 코드 블록에 특정 함수 구현만 포함된 경우, 확장 프로그램은:
   - 기존 파일에서 일치하는 함수를 식별합니다
   - 파일의 나머지 부분을 보존하면서 해당 함수만 교체합니다
   - 부분 업데이트가 적용되었음을 나타내는 알림을 표시합니다
   
2. 이는 AI 어시스턴트가 전체 파일을 다시 작성하지 않고 특정 함수에 대한 개선을 제안할 때 특히 유용합니다

3. 감지는 자동으로 이루어지며 추가 작업이 필요하지 않습니다!

## 코드 블록 형식

확장 프로그램이 코드 블록을 인식하려면 파일 경로가 포함된 마크다운 형식이어야 합니다:

```
filename.js
```javascript
console.log('Hello world');
```

또는:

path/to/file.py
```python
print('Hello world')
```

## 구성

이 확장 프로그램은 여러 사용자 지정 옵션을 제공합니다:

1. **기본 저장 폴더**: 새 파일이 생성될 기본 폴더 설정
2. **사용자 정의 키 바인딩**: 기본 키보드 단축키 변경

이러한 옵션을 구성하려면:

1. 파일 > 기본 설정 > 설정으로 이동
2. "Chat-Code Apply"를 검색
3. 필요에 따라 설정 조정

## 지원되는 언어

확장 프로그램은 다음을 포함한 여러 언어의 코드 블록을 적절히 처리합니다:
- Python
- HTML
- JavaScript
- Bash/Shell
- 그 외 다수

## 요구사항

- Visual Studio Code 1.70.0 이상

## 새로운 기능

### 차이점 미리보기

코드에 변경 사항을 적용하기 전에 확장 프로그램은 원본 코드와 수정된 코드를 나란히 비교하여 보여줄 수 있습니다:

1. 기존 파일에 코드를 적용할 때 차이점 미리보기가 자동으로 표시됩니다
2. 변경 사항이 올바른지 확인하기 위해 주의 깊게 검토합니다
3. "적용"을 클릭하여 확인하거나 "취소"를 클릭하여 변경 사항을 거부합니다

### 원클릭 실행 취소

잘못된 변경 사항을 적용하는 것이 걱정되시나요? 원클릭 실행 취소가 안전망을 제공합니다:

1. 코드 변경 사항을 적용할 때마다 확장 프로그램은 원본 파일의 백업을 생성합니다
2. 이전 버전으로 되돌리려면 `MateCode: 마지막으로 적용된 변경 사항 되돌리기` 명령을 사용하거나 명령 팔레트에서 찾으세요
3. 기록 보기를 사용하여 모든 이전 백업을 보고 복원할 수도 있습니다

### 자동 서식/린팅

코드를 적용한 후 확장 프로그램은 프로젝트 스타일에 맞게 자동으로 서식을 지정할 수 있습니다:

1. 활성화되면 확장 프로그램은 변경 사항 적용 후 코드 서식을 지정하려고 시도합니다
2. VS Code의 내장 서식 기능을 사용합니다
3. VS Code 설정에 구성된 모든 포맷터(예: Prettier, Black 등)와 함께 작동합니다

### 기록 보기

기록 보기는 확장 프로그램을 통해 적용된 모든 코드 변경 사항의 타임라인을 제공합니다:

1. 탐색기 사이드바에서 MateCode 기록 보기를 엽니다
2. 타임스탬프가 있는 모든 변경 사항의 시간순 목록을 봅니다
3. 특정 버전을 복원하려면 항목을 클릭합니다
4. 추가 옵션을 보려면 마우스 오른쪽 버튼으로 클릭합니다

## 확장 프로그램 설정

이 확장 프로그램은 다음 설정을 제공합니다:

* `matecode.defaultSaveFolder`: 새 파일을 저장할 기본 폴더 경로(작업 공간 루트 기준)
* `matecode.applyToOpenFilesKeybinding`: 열린 파일에 코드 블록을 적용하기 위한 키바인딩
* `matecode.applyCodeBlocksKeybinding`: 작업 공간에 코드 블록을 적용하기 위한 키바인딩
* `matecode.enableDiffPreview`: 차이점 미리보기 기능 활성화 또는 비활성화(기본값: true)
* `matecode.enableOneClickUndo`: 원클릭 실행 취소 기능 활성화 또는 비활성화(기본값: true)
* `matecode.enableAutoFormat`: 변경 사항 적용 후 자동 코드 서식 지정 활성화 또는 비활성화(기본값: false)
* `matecode.enableSidebarHistory`: 사이드바에 기록 보기 활성화 또는 비활성화(기본값: true)
* `matecode.maxHistoryItems`: 저장할 최대 기록 항목 수(기본값: 50)
* `matecode.backupLocation`: 백업 파일을 저장할 위치(기본값: ~/.matecode/backup)
